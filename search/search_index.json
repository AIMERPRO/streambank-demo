{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\ud83c\udfe6 StreamBank Demo","text":"<p>StreamBank \u2014 \u0443\u0447\u0435\u0431\u043d\u044b\u0439 \u0444\u0438\u043d\u0442\u0435\u0445-\u0431\u044d\u043a\u0435\u043d\u0434 \u0441 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u043c\u0438 \u00ab\u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430\u00bb: Django + FastAPI + Celery, \u043f\u043e\u043a\u0440\u044b\u0442\u044b\u0435 CI, \u043c\u0435\u0442\u0440\u0438\u043a\u0430\u043c\u0438 \u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0435\u0439.</p> <p> </p>"},{"location":"#_1","title":"\u2728 \u0427\u0442\u043e \u0432\u043d\u0443\u0442\u0440\u0438","text":"\u0421\u043b\u043e\u0439 \u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 Web / Admin Django 5.2.3 \u0410\u0434\u043c\u0438\u043d-\u043f\u0430\u043d\u0435\u043b\u044c, ORM, \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438 Public API FastAPI 0.115.12 \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u043e\u0432 \u043f\u043e API Tasks Celery 5 + Redis 6 \u0414\u0435\u0442\u0435\u043a\u0442 \u0430\u043d\u043e\u043c\u0430\u043b\u0438\u0439 \u0432 \u0444\u043e\u043d\u0435 Observability Prometheus + Grafana \u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0442\u0440\u0438\u043a CI GitHub Actions linters \u2022 mypy \u2022 pytest"},{"location":"#_2","title":"\ud83d\ude80 \u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442","text":""},{"location":"api/","title":"\ud83d\udcda API Endpoints","text":"<ul> <li>FastAPI Swagger \u2014 /docs</li> <li>OpenAPI JSON \u2014 <code>openapi.json</code></li> <li>DRF \u2014 <code>/api</code></li> </ul>"},{"location":"architecture/","title":"\u2699\ufe0f \u0410\u0440\u0445\u0438\u0442\u0435\u043a\u0442\u0443\u0440\u0430","text":""},{"location":"architecture/#_2","title":"\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b","text":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0421\u0435\u0440\u0432\u0438\u0441 \u0417\u0430\u0447\u0435\u043c \u043d\u0443\u0436\u0435\u043d \u0412\u0435\u0431-\u0444\u0440\u043e\u043d\u0442 Nginx SSL-\u0442\u0435\u0440\u043c\u0438\u043d\u0430\u0446\u0438\u044f, \u0441\u0442\u0430\u0442\u0438\u043a\u0430, \u0440\u0435\u0439\u0442-\u043b\u0438\u043c\u0438\u0442 \u0411\u0438\u0437\u043d\u0435\u0441-\u043b\u043e\u0433\u0438\u043a\u0430 Django \u0410\u0434\u043c\u0438\u043d\u043a\u0430, API \u0437\u0430\u043f\u0440\u043e\u0441\u044b REST API FastAPI \u041e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 API \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u043e\u0432 \u0424\u043e\u043d\u043e\u0432\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 Celery \u0414\u0435\u0442\u0435\u043a\u0442 \u0430\u043d\u043e\u043c\u0430\u043b\u0438\u0439 \u0432 \u0444\u043e\u043d\u0435 \u0411\u0440\u043e\u043a\u0435\u0440 Redis \u041e\u0447\u0435\u0440\u0435\u0434\u0438 Celery + \u043a\u0435\u0448 \u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 PostgreSQL \u0425\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u041c\u0435\u0442\u0440\u0438\u043a\u0438 Prometheus + Grafana + Flower \u041c\u0435\u0442\u0440\u0438\u043a\u0438, \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u044b, live-\u043e\u0447\u0435\u0440\u0435\u0434\u044c"},{"location":"architecture/#_3","title":"\u041f\u043e\u0442\u043e\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445","text":"<ol> <li> <p>\u0417\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f <code>Nginx</code> \u2192 <code>FastAPI</code> (<code>/analytics/\u2026</code>) \u0438\u043b\u0438 <code>Django</code> (<code>/admin/\u2026</code>).</p> </li> <li> <p>\u0421\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430    \u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u043a <code>PostgreSQL</code>; \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u043e\u0442\u0432\u0435\u0442 \u0443\u0445\u043e\u0434\u0438\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0443.</p> </li> <li> <p>\u0414\u043e\u043b\u0433\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430 <code>Django</code> \u043a\u043b\u0430\u0434\u0451\u0442 job \u0432 <code>Redis</code> (<code>Celery broker</code>) \u2192 \u043d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 <code>202 Accepted</code>.</p> </li> <li> <p>Worker <code>Celery worker</code> \u0447\u0438\u0442\u0430\u0435\u0442 \u0437\u0430\u0434\u0430\u0447\u0443, \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442, \u043f\u0438\u0448\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043d\u0430\u0437\u0430\u0434 \u0432 \u0411\u0414.</p> </li> <li> <p>\u041c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433</p> </li> <li>\u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u0437\u0430\u0434\u0430\u0447 (<code>flower_task_*</code>) \u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 (<code>process_cpu_seconds_total</code>, \u2026) \u0441\u043a\u0440\u0430\u043f\u044f\u0442\u0441\u044f <code>Prometheus</code>.</li> <li> <p><code>Grafana</code> \u0434\u0430\u0448\u0431\u043e\u0440\u0434 \u00abCelery Tasks\u00bb \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0443\u0441\u043f\u0435\u0445\u0438/\u043e\u0448\u0438\u0431\u043a\u0438, \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f.</p> </li> <li> <p>\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432</p> </li> <li> <p>\u041a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c \u0432 03:00 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f <code>Celery Beat</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442 \u0430\u043d\u043e\u043c\u0430\u043b\u0438\u0438 \u0432 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f\u0445</p> </li> <li> <p>Multiprocessing</p> </li> <li>\u041a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c \u0432 02:00 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f <code>Celery Beat</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u0438\u0437 CSV \u0444\u0430\u0439\u043b\u0430 \u0438\u0437 <code>data</code> \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e multiprocessing</li> </ol>"},{"location":"contributing/","title":"\ud83e\udd1d Contributing to StreamBank Demo","text":""},{"location":"contributing/#1-quick-checklist","title":"1. Quick Checklist","text":"<ol> <li>\u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0444\u043e\u0440\u043a \u2192 \u043d\u043e\u0432\u0443\u044e \u0432\u0435\u0442\u043a\u0443 \u0438\u0437 <code>master</code>.</li> <li><code>poetry install --with dev &amp;&amp; pre-commit install</code>.</li> <li>\u041f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u0434; \u0443\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e <code>pre-commit run --all-files &amp;&amp; docker compose up --abort-on-container-exit tests</code> \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u044b.</li> <li>\u041e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 Pull Request; CI \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u043e\u0439\u0442\u0438 \u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a.</li> </ol>"},{"location":"contributing/#2-style-tooling","title":"2. Style &amp; Tooling","text":"\u0427\u0442\u043e \u041f\u0440\u0430\u0432\u0438\u043b\u043e Commits Conventional Commits (<code>feat:</code>, <code>fix:</code>, <code>docs:</code>\u2026) Black + Isort \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u0440\u043c\u0430\u0442\u0442\u0435\u0440\u043e\u043c pre-commit Mypy \u043a\u043e\u0434 100 % \u0442\u0438\u043f\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d Tests Pytest + Coverage \u2265 90 %"},{"location":"development/","title":"\ud83d\udee0\ufe0f \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430","text":""},{"location":"development/#1","title":"1. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439","text":"<pre><code>poetry install --with dev                # \u043b\u0438\u043d\u0442\u0435\u0440\u044b, pytest, mypy\npre-commit install                       # githook'\u0438\n</code></pre>"},{"location":"development/#2","title":"2. \u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0439","text":"<pre><code>docker compose exec web python manage.py makemigrations  # \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438\ndocker compose run --rm migrate          # \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u043c\u0438\u0433\u0440\u0430\u0446\u0438\u0438\n</code></pre>"},{"location":"development/#3","title":"3. \u0417\u0430\u043f\u0443\u0441\u043a \u0442\u0435\u0441\u0442\u043e\u0432","text":"<pre><code>pre-commit run --all-files               # \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043b\u0438\u043d\u0442\u0435\u0440\u043e\u0432\ndocker-compose up --abort-on-container-exit tests  # \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0442\u0435\u0441\u0442\u044b pytest\n</code></pre>"},{"location":"getting-started/","title":"\ud83d\ude80 \u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0441\u0442\u0430\u0440\u0442","text":""},{"location":"getting-started/#1","title":"1. \u041f\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f","text":"\u0418\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0432\u0435\u0440\u0441\u0438\u0438 \u041c\u0438\u043d\u0438\u043c\u0443\u043c Docker <code>docker --version</code> 24.0+ Docker Compose v2 <code>docker compose version</code> 2.20+"},{"location":"getting-started/#2","title":"2. \u041a\u043b\u043e\u043d \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f","text":"<pre><code>git clone https://github.com/&lt;user&gt;/streambank-demo.git\ncd streambank-demo\n\ncp .env.example .env\n# \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 .env, \u0437\u0430\u0434\u0430\u0432 \u043f\u0430\u0440\u043e\u043b\u0438 \u0411\u0414, Grafana \u0438 Flower\n\ndocker compose up --build -d\n\ndocker compose exec web python manage.py createsuperuser\n# \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0435\u0431\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u043f\u0440\u0430\u0432\u0430\u043c\u0438 Superuser\n</code></pre>"},{"location":"getting-started/#3-url","title":"3. \u041a\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u044b \u0441 \u043f\u043e\u0440\u0442\u0430\u043c\u0438 \u0438 URL \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0434\u043d\u044f\u0442\u044b:","text":"\u041f\u043e\u0440\u0442 \u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 URL 8000 Django (\u0431\u0435\u0437 Nginx) http://localhost:8000/admin 8080 Django (\u0441 Nginx) http://localhost:8080/admin 8001 FastAPI Swagger http://localhost:8001/docs 5555 Flower UI http://localhost:5555 3000 Grafana http://localhost:3000 9090 Prometheus http://localhost:9090"},{"location":"getting-started/#4-url","title":"4. \u0421\u0435\u0440\u0432\u0438\u0441\u044b-\u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b (\u0431\u0435\u0437 \u041f\u043e\u0440\u0442\u0430 \u0438\u043b\u0438 URL)","text":"\u041f\u043e\u0440\u0442 \u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 8080 Nginx 5432 PostgreSQL Pytest docker-compose up --abort-on-container-exit tests Worker Celery Celery Beat Migrate Service docker compose run --rm migrate"}]}